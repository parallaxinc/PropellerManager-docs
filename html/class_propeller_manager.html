---
layout: doc
title: PropellerManager - PropellerManager Class Reference
doctitle: PropellerManager
doctagline: An event-driven C++ API for Propeller devices
docurl: /propellermanager/
---
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div class="content" id="content">
                    <div style="margin-bottom: 15px;">
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_propeller_manager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">PropellerManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="class_propeller_manager.html" title="The PropellerManager class provides an abstraction layer between PropellerSession and PropellerDevice...">PropellerManager</a> class provides an abstraction layer between <a class="el" href="class_propeller_session.html" title="The PropellerSession class provides a persistent interface to Propeller hardware via PropellerManager...">PropellerSession</a> and <a class="el" href="class_propeller_device.html" title="The PropellerDevice class provides access to serial Propeller devices. ">PropellerDevice</a> instances.  
 <a href="class_propeller_manager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="propellermanager_8h_source.html">PropellerManager</a>&gt;</code></p>

<p>Inherits QObject.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:af4af3089117b2c68ebfdec41305b1cec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_propeller_manager.html#af4af3089117b2c68ebfdec41305b1cec">portListChanged</a> ()</td></tr>
<tr class="separator:af4af3089117b2c68ebfdec41305b1cec"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1b5744a2d7705209e6be3477e166e3db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_propeller_manager.html#a1b5744a2d7705209e6be3477e166e3db">PropellerManager</a> (QObject *parent=0)</td></tr>
<tr class="separator:a1b5744a2d7705209e6be3477e166e3db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a789472b50332e2599078297c85277f6e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_propeller_manager.html#a789472b50332e2599078297c85277f6e">~PropellerManager</a> ()</td></tr>
<tr class="separator:a789472b50332e2599078297c85277f6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5224b7c35e4dfcb8968735f3baa8599e"><td class="memItemLeft" align="right" valign="top">const QStringList &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_propeller_manager.html#a5224b7c35e4dfcb8968735f3baa8599e">listPorts</a> ()</td></tr>
<tr class="separator:a5224b7c35e4dfcb8968735f3baa8599e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0b29937651263276e71fb2c79b53aed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_propeller_manager.html#ab0b29937651263276e71fb2c79b53aed">enablePortMonitor</a> (bool enabled)</td></tr>
<tr class="separator:ab0b29937651263276e71fb2c79b53aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="class_propeller_manager.html" title="The PropellerManager class provides an abstraction layer between PropellerSession and PropellerDevice...">PropellerManager</a> class provides an abstraction layer between <a class="el" href="class_propeller_session.html" title="The PropellerSession class provides a persistent interface to Propeller hardware via PropellerManager...">PropellerSession</a> and <a class="el" href="class_propeller_device.html" title="The PropellerDevice class provides access to serial Propeller devices. ">PropellerDevice</a> instances. </p>
<p>There are several advantages to the <a class="el" href="class_propeller_manager.html" title="The PropellerManager class provides an abstraction layer between PropellerSession and PropellerDevice...">PropellerManager</a> approach.</p>
<ul>
<li>Applications are easier to write without device connectivity and error handling.</li>
<li>Does not require multi-threading, which is not always available.</li>
<li>Applications can immediately leverage new download strategies without changing code.</li>
<li>Cleanly shares devices without ever disconnecting, side-stepping a host of platform usability issues.</li>
<li>Build your applications on a battle-hardened <a class="el" href="namespace_propeller.html">Propeller</a> implementation instead of rolling your own.</li>
</ul>
<p><a class="el" href="class_propeller_manager.html" title="The PropellerManager class provides an abstraction layer between PropellerSession and PropellerDevice...">PropellerManager</a> mediates access to hardware and allows it to be shared between applications seamlessly.</p>
<p><a class="el" href="class_propeller_manager.html" title="The PropellerManager class provides an abstraction layer between PropellerSession and PropellerDevice...">PropellerManager</a> works by acting as a signal router between <a class="el" href="class_propeller_session.html" title="The PropellerSession class provides a persistent interface to Propeller hardware via PropellerManager...">PropellerSession</a> and <a class="el" href="class_propeller_device.html" title="The PropellerDevice class provides access to serial Propeller devices. ">PropellerDevice</a> instances, preventing them from interacting with each other directly.</p>
<div class="fragment"><div class="line"><a class="code" href="class_propeller_manager.html">PropellerManager</a> manager;</div>
<div class="line"><a class="code" href="class_propeller_session.html">PropellerSession</a> session(&amp;manager);</div>
<div class="line"></div>
<div class="line">QByteArray data;</div>
<div class="line">session.write(data);</div>
</div><!-- fragment --><p>One of the unique features of <a class="el" href="class_propeller_manager.html" title="The PropellerManager class provides an abstraction layer between PropellerSession and PropellerDevice...">PropellerManager</a> is that it makes opening and closing devices unnecessary. It does so by maintaining a count of the number of sessions currently accessing any given device, and as long as this count remains above 0, the device will be held open.</p>
<h3>Port Monitoring</h3>
<p><a class="el" href="class_propeller_manager.html" title="The PropellerManager class provides an abstraction layer between PropellerSession and PropellerDevice...">PropellerManager</a> enables you to monitor all available connections in the background of your application, and provides functions to update it in real-time.</p>
<p>Enabling port monitoring in your application is simple. Here is an example Qt class with monitoring configured.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;QDebug&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;QObject&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;PropellerManager&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">class </span>PortMonitor</div>
<div class="line">    : <span class="keyword">public</span> QObject</div>
<div class="line">{</div>
<div class="line">    Q_OBJECT</div>
<div class="line"></div>
<div class="line">    <a class="code" href="class_propeller_manager.html">PropellerManager</a> manager;</div>
<div class="line">    QStringList ports;</div>
<div class="line"></div>
<div class="line"><span class="keyword">private</span> slots:</div>
<div class="line">    <span class="keywordtype">void</span> updatePorts()</div>
<div class="line">    {</div>
<div class="line">        ports = manager.<a class="code" href="class_propeller_manager.html#a5224b7c35e4dfcb8968735f3baa8599e">listPorts</a>();</div>
<div class="line">        qDebug() &lt;&lt; <span class="stringliteral">&quot;Ports:&quot;</span> &lt;&lt; ports;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    PortMonitor()</div>
<div class="line">        : QObject()</div>
<div class="line">    {</div>
<div class="line">        manager.enablePortMonitor(<span class="keyword">true</span>);</div>
<div class="line">        updatePorts();</div>
<div class="line"></div>
<div class="line">        connect(&amp;manager, SIGNAL(<a class="code" href="class_propeller_manager.html#af4af3089117b2c68ebfdec41305b1cec">portListChanged</a>()), <span class="keyword">this</span>, SLOT(updatePorts()));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    ~PortMonitor()</div>
<div class="line">    {</div>
<div class="line">        disconnect(&amp;manager, SIGNAL(<a class="code" href="class_propeller_manager.html#af4af3089117b2c68ebfdec41305b1cec">portListChanged</a>()), <span class="keyword">this</span>, SLOT(updatePorts()));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">};</div>
<div class="line"></div>
</div><!-- fragment --><p>And that's it! Now your application knows what <a class="el" href="namespace_propeller.html">Propeller</a> devices are connected at any given time. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="download_2main_8cpp-example.html#_a0">download/main.cpp</a>, <a class="el" href="identify_2main_8cpp-example.html#_a0">identify/main.cpp</a>, <a class="el" href="portmonitor_2main_8cpp-example.html#_a0">portmonitor/main.cpp</a>, and <a class="el" href="terminal_2main_8cpp-example.html#_a0">terminal/main.cpp</a>.</dd>
</dl></div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1b5744a2d7705209e6be3477e166e3db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PropellerManager::PropellerManager </td>
          <td>(</td>
          <td class="paramtype">QObject *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a789472b50332e2599078297c85277f6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PropellerManager::~PropellerManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab0b29937651263276e71fb2c79b53aed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void PropellerManager::enablePortMonitor </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enabled</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5224b7c35e4dfcb8968735f3baa8599e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const QStringList &amp; PropellerManager::listPorts </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Lists all available devices on the current system via any interface. </p>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="download_2main_8cpp-example.html#a1">download/main.cpp</a>, <a class="el" href="identify_2main_8cpp-example.html#a1">identify/main.cpp</a>, <a class="el" href="portmonitor_2main_8cpp-example.html#a1">portmonitor/main.cpp</a>, and <a class="el" href="terminal_2main_8cpp-example.html#a1">terminal/main.cpp</a>.</dd>
</dl>
</div>
</div>
<a class="anchor" id="af4af3089117b2c68ebfdec41305b1cec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void PropellerManager::portListChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div>
</div>
